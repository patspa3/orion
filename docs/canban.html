<!doctype html>
<html translate="no">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Canban</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
        integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />


    <link href="css/orion.css" rel="stylesheet" />
</head>

<body>
    <div class="wrapper-fluid container-fluid">
        <!-- wrapper container - oznacza tryb box i umożliwia użycie zmiennej --base-site-max-width -->
        <aside class="tb-navbar show">
            <div class="tb-navbar-content">
                <a class="tb-navbar-brand" href="#"><img class="img-fluid"
                        src="https://lite-dev.vendoerp.com/images/logo.png" /></a>
                <ul>
                    <li class="tb-nav-title"><a href="#"><span>Link</span></a></li>
                    <li><a href="index.html"><i style="color:rgb(14, 184, 71);" class="fa-solid fa-house"></i><span>Index</span></a>
                    </li>
                    <li><a href="liderraport.html"><i class="fa-solid fa-pen"></i><span>Raport Lidera</span></a></li>
                    <li><a href="modal.html"><i class="fa-solid fa-bomb"></i><span>Modal</span></a></li>
                    <li><a href="longmodal.html"><i class="fa-solid fa-bomb"></i><span>Long Modal</span></a></li>
                    <li><a href="scheduler.html"><i class="fa-solid fa-filter"></i><span>Scheduler</span></a></li>
                    <li><a href="timespan.html"><i class="fa-solid fa-lock"></i><span>TimeSpan</span></a></li>
                    <li><a href="radio.html"><i class="fa-solid fa-bomb"></i><span>Radio</span></a></li>
                    <li><a href="forms.html"><i class="fa-solid fa-bomb"></i><span>Forms</span></a></li>
                    <li><a href="formsROM.html"><i class="fa-solid fa-bomb"></i><span>Forms read only mode</span></a></li>
                    <li><a href="colors.html"><i class="fa-solid fa-pen"></i><span>Colors</span></a></li>
                    <li><a href="table.html"><i style="color:rgb(87, 241, 72);" class="fa-solid fa-table"></i><span>Editable
                                table</span></a></li>
                    <li><a href="listfill.html"><i class="fa-solid fa-film"></i><span>List fill</span></a></li>
                    <li><a href="carousel.html"><i style="color:rgb(116, 96, 230)"
                                class="fa-solid fa-image"></i><span>Carousel </span></a></li>
                    <li><a href="clearbs.html"><i class="fa-solid fa-house"></i><span>Clear Bootstrap</span></a></li>
                    <li><a href="ribbonalt.html"><i class="fa-solid fa-house"></i><span>Ribbon <b>(New)</b></span></a></li>
                    <li><a href="canban.html"><i class="fa-solid fa-house"></i><span>Canban <b>(New)</b></span></a></li>
                    <li><a href="buttons.html"><i class="fa-solid fa-house"></i><span>Buttons <b>(New)</b></span></a></li>
                    <li><a href="multilinelist.html"><i class="fa-solid fa-house"></i><span>Multi Line List <b>(Experimental)</b></span></a></li>
                    <li><a href="separator.html"><i class="fa-solid fa-house"></i><span>Separators <b>(Experimental)</b></span></a></li>
                    <li><a href="nomenu.html"><i class="fa-solid fa-house"></i><span>Non navigation <b>(New)</b></span></a></li>
                    <li><a href="commands.html"><i class="fa-solid fa-house"></i><span>Commands <b>(Experimental)</b></span></a></li>
                    <li><a href="collapsemenu.html"><i class="fa-solid fa-house"></i><span>Collapse menu <b>(New)</b></span></a></li>
                    <li><a href="blank.html"><i class="fa-solid fa-house"></i><span>Blank page</span></a></li>
                    <li class="tb-nav-title"><a href="#"><span>Link</span></a></li>
                    <li><a href="#"><i class="fa-solid fa-music"></i><span>Link</span></a></li>
                    <li><a href="#"><i class="fa-solid fa-music"></i>
                            <span>Link sd asd asd asd asd asd asdddsaasasd</span>
                        </a></li>
                    <li><a href="#"><i class="fa-solid fa-music"></i><span>Link</span></a></li>
                    <li><a href="#"><i class="fa-solid fa-bomb"></i><span>Link</span></a></li>
                    <li><a href="#"><i class="fa-solid fa-house"></i><span>Link</span></a></li>
                    <li><a href="#"><i class="fa-solid fa-image"></i><span>Link</span></a></li>
                </ul>
            </div>
            <footer>
                <div class="tb-footer-left">
                    <div class="tb-footer-item"><a class="text-light" href="#">Wyloguj</a></div>
                </div>
                <div class="tb-footer-right">
                    <div class="form-check form-switch tb-footer-item">
                        <label class="form-check-label" for="boxSwitch">
                            <i class="fa-solid fa-expand"></i>
                        </label>
                        <input class="form-check-input" type="checkbox" id="boxSwitch">
                    </div>
                    <div class="form-check form-switch tb-footer-item">
                        <label class="form-check-label" for="lightSwitch">
                            <i class="fa-solid fa-circle-half-stroke"></i>
                        </label>
                        <input class="form-check-input" type="checkbox" id="lightSwitch">
                    </div>
                </div>
            </footer>
        </aside>
        <section class="page">
            <div class="title-box text-center">
                <div class="container-fluid">
                    <button class="navbar-toggler" type="button"><span class="navbar-toggler-icon"></span></button>
                    <div class="title-box-title">Canban Page</div>
                    <div class="title-box-exit"><button type="button" class="btn-close" data-bs-dismiss="modal"
                            aria-label="Close"></button></div>
                </div>
            </div>
            <div class="tbs-ribbon">
                <div class="tab-content">
                    <div class="tab-pane fade active show" id="tbs-ribbon-element-1"
                        aria-labelledby="tbs-ribbon-element-1-tab" role="tabpanel">
                        <div class="container text-left">
                            <div class="tb-ribbon-group">
                                <div class="elements text-center">
                                    <div class="one-element large-element"><a tabindex="-1" href="javascript:void(0)"><i
                                                class="fa-solid fa-film"></i>
                                            <div>Show In New Window</div>
                                        </a></div>
                                    <div class="one-element large-element"><a tabindex="-1" href="javascript:void(0)"><i
                                                class="fa-solid fa-music"></i>
                                            <div>View Code</div>
                                        </a></div>
                                </div>
                                <div class="section-label text-center">Example</div>
                            </div>
                            <div class="tb-ribbon-group">
                                <div class="elements text-center">
                                    <div class="one-element large-element"><a tabindex="-1" href="javascript:void(0)"><i
                                                class="fa-solid fa-image"></i>
                                            <div>Show Designer</div>
                                        </a></div>
                                </div>
                                <div class="section-label text-center">Playground</div>
                            </div>
                            <div class="tb-ribbon-group">
                                <div class="elements text-center">
                                    <div class="one-element large-element"><a tabindex="-1" href="javascript:void(0)"><i
                                                style="color:rgb(14, 184, 71);" class="fa-solid fa-house"></i>
                                            <div>About</div>
                                        </a></div>
                                </div>
                                <div class="section-label text-center">Other</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="content">
                <div class="tb-kanban">
                    <div class="tb-kanban-panel" style="--tb-kanban-status-color: #4b4bff;">
                        <div class="tb-kanban-header"><span><i class="fa-solid fa-list"></i>Do zrobienia (3)</span>
                        </div>
                        <div class="tb-kanban-content droppable">
                            <div class="tb-kanban-item draggable " draggable="true" style="--item-base-color: yellow;">
                                <span class="tb-kanban-item-header">Nagłowek długi wielowierszowy z załamaniem i ikonami
                                    informacynymi w stopce</span>
                                <div class="tb-kanban-item-data"><i class="fa-solid fa-clock"></i> 12.10.2023 11:15
                                </div>
                                <div class="tb-kanban-item-data"><i class="fa-solid fa-list"></i> Błąd</div>
                                <div class="tb-kanban-item-data"><i class="fa-solid fa-table"></i> Dowolne inne dane
                                </div>
                                <div class="tb-kanban-item-content">Lorem ipsum dolor sit amet</div>
                                <div class="tb-kanban-item-footer">
                                    <i class="fa-solid fa-barcode"></i>
                                    <i class="fa-solid fa-inbox"></i>
                                    <i class="fa-solid fa-table"></i>
                                    <i class="fa-solid fa-circle-check"></i>
                                </div>
                            </div>
                            <div class="tb-kanban-item draggable" draggable="true" style="--item-base-color: green;">
                                <span class="tb-kanban-item-header">Item bez stopki</span>
                                <div class="tb-kanban-item-content">Lorem ipsum dolor sit amet</div>
                                <div class="tb-kanban-item-footer"></div>
                            </div>
                            <div class="tb-kanban-item draggable" draggable="true" style="--item-base-color: red;">
                                <span class="tb-kanban-item-header">Nagłowek</span>
                                <div class="tb-kanban-item-content">Lorem ipsum dolor sit ametLorem ipsum dolor sit
                                    ametLorem ipsum
                                    dolor sit ametLorem ipsum dolor sit ametLorem ipsum dolor sit amet
                                </div>
                                <div class="tb-kanban-item-footer">Lorem ipsum dolor sit amet</div>
                            </div>
                            <div class="tb-kanban-new-item">
                                <div class="tb-kanban-item-content">
                                    <button class="btn btn-primary"><i class="fa-solid fa-circle-plus"></i>Dodaj nowe
                                        zdarzenie</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tb-kanban-panel" style="--tb-kanban-status-color: #ffff47;">
                        <div class="tb-kanban-header"><span><i class="fa-solid fa-keyboard"></i>W trakcie prac</span>
                        </div>
                        <div class="tb-kanban-content droppable">
                            <div class="tb-kanban-item draggable " draggable="true" style="--item-base-color: red;">
                                <span class="tb-kanban-item-header">Nagłowek</span>
                                <div class="tb-kanban-item-content">Lorem ipsum dolor sit amet</div>
                                <div class="tb-kanban-item-footer">
                                    <div class="progress">
                                        <div class="progress-bar" role="progressbar" aria-label="Example with label"
                                            style="width: 25%;" aria-valuenow="25" aria-valuemin="0"
                                            aria-valuemax="100">25%
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tb-kanban-item draggable" draggable="true" style="--item-base-color: red;">
                                <span class="tb-kanban-item-header">Nagłowek</span>
                                <div class="tb-kanban-item-content">Lorem ipsum dolor sit amet</div>
                                <div class="tb-kanban-item-footer">
                                    <div class="progress">
                                        <div class="progress-bar" role="progressbar" aria-label="Example with label"
                                            style="width: 99%;" aria-valuenow="25" aria-valuemin="0"
                                            aria-valuemax="100">99%
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tb-kanban-item draggable" draggable="true" style="--item-base-color: red;">
                                <span class="tb-kanban-item-header">Nagłowek</span>
                                <div class="tb-kanban-item-content">Lorem ipsum dolor sit ametLorem ipsum dolor sit
                                    ametLorem ipsum
                                    dolor sit ametLorem ipsum dolor sit ametLorem ipsum dolor sit amet
                                </div>
                                <div class="tb-kanban-item-footer">
                                    <div class="progress">
                                        <div class="progress-bar" role="progressbar" aria-label="Example with label"
                                            style="width: 45%;" aria-valuenow="45" aria-valuemin="0"
                                            aria-valuemax="100">45%
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tb-kanban-panel" style="--tb-kanban-status-color: #288828;">
                        <div class="tb-kanban-header"><i class="fa-solid fa-circle-check"></i><span>Wykonane</span>
                        </div>
                        <div class="tb-kanban-content droppable">
                            <div class="tb-kanban-item draggable" draggable="true" style="--item-base-color: red;">
                                <span class="tb-kanban-item-header">Nagłowek</span>
                                <div class="tb-kanban-item-content">Lorem ipsum dolor sit amet</div>
                                <div class="tb-kanban-item-footer">Lorem ipsum dolor sit amet</div>
                            </div>
                            <div class="tb-kanban-item draggable" draggable="true" style="--item-base-color: red;">
                                <span class="tb-kanban-item-header">Nagłowek</span>
                                <div class="tb-kanban-item-content">Lorem ipsum dolor sit amet</div>
                                <div class="tb-kanban-item-footer">Lorem ipsum dolor sit amet</div>
                            </div>
                            <div class="tb-kanban-item draggable" draggable="true" style="--item-base-color: red;">
                                <span class="tb-kanban-item-header">Nagłowek</span>
                                <div class="tb-kanban-item-content">Lorem ipsum dolor sit ametLorem ipsum dolor sit
                                    ametLorem ipsum
                                    dolor sit ametLorem ipsum dolor sit ametLorem ipsum dolor sit amet
                                </div>
                                <div class="tb-kanban-item-footer">Lorem ipsum dolor sit amet</div>
                            </div>
                            <div class="tb-kanban-item draggable" draggable="true" style="--item-base-color: red;">
                                <span class="tb-kanban-item-header">Nagłowek</span>
                                <div class="tb-kanban-item-content">Lorem ipsum dolor sit amet</div>
                                <div class="tb-kanban-item-footer">Lorem ipsum dolor sit amet</div>
                            </div>
                            <div class="tb-kanban-item draggable" draggable="true" style="--item-base-color: red;">
                                <span class="tb-kanban-item-header">Nagłowek</span>
                                <div class="tb-kanban-item-content">Lorem ipsum dolor sit amet</div>
                                <div class="tb-kanban-item-footer">Lorem ipsum dolor sit amet</div>
                            </div>
                            <div class="tb-kanban-item draggable" draggable="true" style="--item-base-color: red;">
                                <span class="tb-kanban-item-header">Nagłowek</span>
                                <div class="tb-kanban-item-content">Lorem ipsum dolor sit ametLorem ipsum dolor sit
                                    ametLorem ipsum
                                    dolor sit ametLorem ipsum dolor sit ametLorem ipsum dolor sit amet
                                </div>
                                <div class="tb-kanban-item-footer">Lorem ipsum dolor sit amet</div>
                            </div>
                        </div>
                    </div>
                    <div class="tb-kanban-panel" style="--tb-kanban-status-color: grey;">
                        <div class="tb-kanban-header"><i class="fa-solid fa-trash"></i><span>Anulowane</span></div>
                        <div class="tb-kanban-content droppable">
                            <div class="tb-kanban-item-draggable-space">
                                <div class="tb-kanban-item-content text-center">
                                    Lista jest pusta
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </section>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script src="js/scripts.js"></script>
    <script>
        const droppables = document.querySelectorAll('.droppable');
        const draggables = document.querySelectorAll('.draggable');
        const transitionTime = 0;
        let dragging;
        let cloned;

        //document.body.style.setProperty('--transitionTime', transitionTime + 'ms');

        function cleanClass(className) {
            const elements = document.querySelectorAll(`.${className}`);
            for (const el of elements) {
                el.classList.remove(className);
            }
        }

        // drag start
        document.addEventListener('dragstart', e => {
            if (e.target.classList.contains('draggable')) {
                dragging = e.target;
                dragging.classList.add('dragging');
                cloned = dragging.cloneNode(true);
            }
        });

        function handleDragEnd() {
            if (!dragging) return;
            dragging.classList.add('will-remove');
            setTimeout(() => {
                dragging.remove();
                cleanClass('dragging');
            }, [transitionTime]);
        }

        // drag end
        document.addEventListener('dragend', e => {
            cleanClass('new-added');
            cleanClass('dragging');

        });

        // drag over
        droppables.forEach(droppable => {
            droppable.addEventListener('dragover', e => {
                e.preventDefault();
                const frontSib = getClosestFrontSibling(droppable, e.clientY);
                const previousSib = dragging.previousElementSibling;
                if (frontSib) {
                    if (
                        frontSib.nextElementSibling === cloned ||
                        frontSib === cloned ||
                        frontSib === previousSib
                    ) {
                        return;
                    }
                    cloned.classList.add('new-added');
                    frontSib.insertAdjacentElement('afterend', cloned);
                    handleDragEnd(dragging);
                } else {
                    if (
                        droppable.firstChild === cloned ||
                        droppable.firstChild === dragging
                    ) {
                        return;
                    }
                    if (dragging.parentNode === droppable && !previousSib) {
                        return;
                    }
                    cloned.classList.add('new-added');
                    droppable.prepend(cloned);
                    handleDragEnd(dragging);
                }
            });
        });

        function getClosestFrontSibling(droppable, draggingY) {
            const siblings = droppable.querySelectorAll('.draggable:not(.dragging)');
            let result;

            for (const sibling of siblings) {
                const box = sibling.getBoundingClientRect();
                const boxCenterY = box.y + box.height / 2;
                if (draggingY >= boxCenterY) {
                    result = sibling;
                } else {
                    return result;
                }
            }

            return result;
        }
    </script>
</body>

</html>